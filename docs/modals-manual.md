# Документация по модальным окнам приложения

## 1. IssuingCards

**Назначение:** Отправка карточек пользователю/пользователям  
**Доступ:** Только администратор игры  
**Действия:**

- Выбор карты
- Выбор пользователя
- Выдача карты

**Отправляемые методы:**

- `getDecks()`
- `giveDeckForSelection({ deck_id, card_id })`

**Слушаемые события:**

- `on('got_decks')`

**Используется в:** `ActionButtons`

---

## 2. UserSelectCard

**Назначение:** Показ карточек из выбранной колоды для самостоятельного выбора пользователем  
**Доступ:** Только пользователи игры  
**Действия:**

- Отображение карточек
- Отправка выбранной карточки на сервер

**Отправляемые методы:**

- `selectCard({ deck_id, card_id })`

**Слушаемые события:**

- `on('prompt_select_card')`

**Используется в:** `SceneModule`

---

## 3. SelectedCard

**Назначение:** Показ выбранной пользователем карточки  
**Доступ:** Только пользователь, выбравший карту  
**Действия:**

- Показ выбранной карточки
- Возврат карточки в колоду
- Показ карточки всем игрокам
- Передача карточки другому игроку

**Отправляемые методы:**

- `showEveryoneCard({card_id})`

**Слушаемые события:**

- `on('card_selected')`

**Используется в:** `SceneModule`

---

## 4. RollDices

**Назначение:** Бросок кубиков  
**Доступ:** Все пользователи  
**Действия:**

- Бросок кубиков

**Отправляемые методы:**

- `rollDice()`

**Слушаемые события:** Отсутствуют

**Используется в:** `CurashModule`

---

## 5. IssuingCardDeck

**Назначение:** Отправка карточек выбранному пользователю (пользователь уже выбран)  
**Доступ:** Только администратор игры  
**Действия:**

- Выбор карты
- Выдача карты выбранному пользователю

**Отправляемые методы:**

- `getDecks()`
- `giveDeckForSelection({ deck_id, card_id })`

**Слушаемые события:**

- `on('got_decks')`

**Используется в:** `CardHolder`

---

## 6. ChangeDices

**Назначение:** Изменение параметров кубиков  
**Доступ:** Только администратор игры  
**Действия:**

- Выбор количества кубиков
- Выбор граней кубика (в sales_courage всегда 6)

**Отправляемые методы:**

- `changeDice({ dice_count, faces_number })`

**Слушаемые события:** Отсутствуют

**Используется в:** `CurashModule`

---

## 7. TransferCardModal

**Назначение:** Передача выбранной карточки другому игроку  
**Доступ:** Пользователи  
**Действия:**

- Передача карты
- Выбор получателя карты

**Отправляемые методы:**

- `transferCard({ deck_id, card_id, player_id })`

**Слушаемые события:** Отсутствуют

**Используется в:** `NotOwn`

---

## 8. NotOwn

**Назначение:** Показ выбранной карты с возможностями управления  
**Доступ:** Пользователи  
**Действия:**

- Показ выбранной карты
- Отображение кнопок управления (передать, показать всем, вернуть в колоду - только для владельца)

**Отправляемые методы:**

- `returnCardToDeck({ deck_id, card_id })`
- `showEveryoneCard({ card_id })`

**Слушаемые события:** Отсутствуют

**Используется в:** `CardHolder`, `GiveUserCard`, `UserAllCard`

---

## 9. GiveUserCard

**Назначение:** Показ карточек выбранного пользователя  
**Доступ:** Пользователи  
**Действия:**

- Показ карт
- Выбор пользователя

**Отправляемые методы:**

- Нативный метод `'show_player_hand'` с payload: `{ player_id: userId }`

**Слушаемые события:**

- `on('show_player_hand_result')`

**Используется в:** `ActionButtons`

---

## 10. UserAllCard

**Назначение:** Показ карточек выбранного пользователя (пользователь уже выбран)  
**Доступ:** Пользователи  
**Действия:**

- Показ карт

**Отправляемые методы:**

- Нативный метод `'show_player_hand'` с payload: `{ player_id: userId }`

**Слушаемые события:**

- `on('show_player_hand_result')`

**Используется в:** `CardHolder`

---

## 11. LeaveGame

**Назначение:** Отключение из игры  
**Доступ:** Пользователи  
**Действия:**

- Выход из игры
- Перенаправление на главную страницу (`router.push('/')`)

**Отправляемые методы:**

- `socket.disconnect()`

**Слушаемые события:** Отсутствуют

**Используется в:** `EndCard`

---

## 12. ThrownDice

**Назначение:** Показ результатов броска кубиков  
**Доступ:** Пользователи  
**Действия:**

- Показ кубиков с результатом

**Отправляемые методы:** Отсутствуют

**Слушаемые события:**

- `on('dice_rolled')`

**Используется в:** `CurashModule`

---

## 13. EndCard

**Назначение:** Показ кнопки выхода из игры  
**Доступ:** Пользователи  
**Действия:**

- Показ кнопки LeaveGame

**Отправляемые методы:** Отсутствуют

**Слушаемые события:** Отсутствуют

**Используется в:** `ActionButtons`

---

## 14. ShowCardModal

**Назначение:** Показ карточки всем игрокам  
**Доступ:** Пользователи  
**Действия:**

- Показ карточки

**Отправляемые методы:** Отсутствуют

**Слушаемые события:**

- `on('card_revealed')`

**Используется в:** `SceneModule`
